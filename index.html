<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <title>Clay County IL - Directory</title>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/lucide-react"></script>
</head>
<body class="bg-[#0f172a]">
    <div id="root"></div>

    <script type="text/babel" data-presets="react">
        const { useState, useMemo, useEffect } = React;

        // Fetching your actual file from GitHub
        async function loadApp() {
            try {
                // Must use the RAW link to get the actual code text
                const response = await fetch('https://raw.githubusercontent.com/KFruti88/Jobs-and-Land-for-Sale/main/ClayCountyDirectory.jsx');
                const code = await response.text();
                
                // This manually executes your JSX through the Babel transpiler
                const transpiled = Babel.transform(code, { presets: ['react'] }).code;
                eval(transpiled);
                
                // Initialize icons after React renders
                lucide.createIcons();
            } catch (err) {
                console.error("Error loading JSX:", err);
                document.getElementById('root').innerHTML = '<h1 class="text-white text-center mt-20">Error Loading Content</h1>';
            }
        }

        loadApp();
    </script>
</body>
</html>
